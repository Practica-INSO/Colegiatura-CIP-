<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>INSO2 - Laboratorio Semana 12</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-primary-subtle">
      <div class="container">
        <a class="navbar-brand " href="index.html">Colegio de Ingenieros</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a href="index.html" class="nav-link " aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a href="index.html" class="nav-link" href="#">Solicitud</a>
            </li>
            <li class="nav-item">
              <a href="consultar.html" class="nav-link active" aria-current="page" href="#">Consultar Estado</a>
            </li>
          </ul>
        </div>
      </div>  
    </nav>
    
    <div class="container mt-5 bg-body-tertiary p-5 rounded">
      <!-- Estado de la Solicitud -->
      <div id="estadoSolicitud">
        <h3 class="h2 fw-bold">Consulta el Estado de tu Solicitud</h3>
        <!-- Formulario para consultar el estado -->
        <form id="consultaEstadoForm" onsubmit="consultarEstado(); return false;">
          <div class="mb-3">
            <label for="dniConsulta" class="form-label">Ingresa tu DNI</label>
            <input type="number" class="form-control" id="dniConsulta" name="dniConsulta" required pattern="\d{8}" title="Ingresa 8 números" maxlength="8">
          </div>
          <!-- Botón para consultar el estado -->
          <button type="submit" class="btn btn-primary">Consultar Estado</button>
        </form>
    
        <!-- Mensajes de observación o aprobación -->
        <div id="observacion" class="mt-3 alert alert-danger" style="display: none;">
          <strong>Datos Invalidos</strong> <!-- Mensaje de observación -->
        </div>
        <div id="aprobacion" class="mt-3 alert alert-success" style="display: none;">
          <strong>Aprobación:</strong> <!-- Mensaje de aprobación -->
        </div>
    
        <!-- Opciones adicionales dependiendo del estado -->
        <!-- Formulario para corregir datos -->
        <form id="correccionDatosForm" style="display: none;">
          <!-- Campos para corregir datos -->
          <!-- ... -->
          <button type="submit" class="btn btn-primary">Corregir Datos</button>
        </form>
    
        <!-- Formulario para realizar el pago -->
        <form id="pagoForm" style="display: none;">
          <!-- Campos para el pago -->
          <!-- ... -->
          <button type="submit" class="btn btn-success">Realizar Pago</button>
        </form>
    
        <!-- Información del estado de la solicitud -->
        <div id="infoEstado" class="mt-5" style="display: none;">
          <h3 id="estadoTitulo"></h3>
          <p id="estadoMensaje"></p>
        
          <!-- Botón para realizar el pago (se mostrará solo si el estado es "Aprobado") -->
          <button id="realizarPagoBtn" class="btn btn-success" style="display: none;" onclick="redirigirAPago()">Procede a pagar</button>
        </div>
      </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    
    <script>
      function consultarEstado() {
        var dniConsulta = document.getElementById("dniConsulta").value;
        var infoEstadoDiv = document.getElementById("infoEstado");
        var estadoTitulo = document.getElementById("estadoTitulo");
        var estadoMensaje = document.getElementById("estadoMensaje");
        var realizarPagoBtn = document.getElementById("realizarPagoBtn");

        // Lógica para tres solicitudes hardcodeadas
        if (dniConsulta === "74130075") {
          infoEstadoDiv.style.display = "block";
          estadoTitulo.innerHTML = "Estado de la Solicitud - Aprobado";
          estadoMensaje.innerHTML = "Nombres: Juan<br>Apellidos: Pérez<br>Número de DNI: 74130075<br>Dirección: Mi Casa 123<br>Correo Electrónico: ejemplo@gmail.com<br>Adjuntar Título Profesional: Sí";
          realizarPagoBtn.style.display = "block"; // Mostrar el botón "Procede a pagar"
        } else if (dniConsulta === "12345678") {
          infoEstadoDiv.style.display = "block";
          estadoTitulo.innerHTML = "Estado de la Solicitud - Aprobado";
          estadoMensaje.innerHTML = "Nombres: María<br>Apellidos: López<br>Número de DNI: 12345678<br>Dirección: Calle Principal 456<br>Correo Electrónico: maria@example.com<br>Adjuntar Título Profesional: Sí";
          realizarPagoBtn.style.display = "block"; // Mostrar el botón "Procede a pagar"
        } else if (dniConsulta === "77766655") {
          infoEstadoDiv.style.display = "block";
          estadoTitulo.innerHTML = "Estado de la Solicitud - Desaprobado";
          estadoMensaje.innerHTML = "Lamentablemente, la solicitud con DNI 77766655 ha sido desaprobada. Póngase en contacto con el Colegio de Ingenieros para obtener más información.";
        } else {
          // Mostrar mensajes de observación
          document.getElementById("observacion").style.display = "block";
        }
      }  
 
      // Función para redirigir a la página de realizar pago
      function redirigirAPago() {
        window.location.href = "RealizarPago.html";
      }
    </script>
  </body>
</html>
